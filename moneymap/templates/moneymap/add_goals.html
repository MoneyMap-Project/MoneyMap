{#{% extends 'moneymap/base.html' %}#}
{#{% load static %}#}
{##}
{#{% block content %}#}
{#<form id="add-goals-form" action="{% url 'moneymap:add_goals' %}" method="POST">#}
{#    {% csrf_token %}#}
{#    <div class="w-full max-w-[1352px] h-auto flex flex-col justify-start items-start gap-[30px] mx-auto mt-10 mb-10">#}
{#        <h1 class="text-[#1b283f] text-4xl font-semibold leading-[64px]">Add new goal</h1>#}
{##}
{#        <div class="w-full flex flex-col lg:flex-row justify-start items-start gap-5">#}
{#            <!-- Left Column -->#}
{#            <div class="w-full lg:w-2/3 p-6 border border-[#aec2c0] rounded-lg flex flex-col gap-7">#}
{#                <div class="flex flex-col gap-5">#}
{#                    <!-- Title Field -->#}
{#                    <div class="flex flex-col gap-2">#}
{#                        <label for="goal-title" class="text-black text-lg font-normal capitalize">Title</label>#}
{#                        <input type="text" id="goal-title" name="goal_title" placeholder="Title of your goal"#}
{#                               class="w-full p-3 border border-[#1b283f] rounded-lg text-[#1b283f] font-normal focus:border-[#05a99d] focus:outline-none transition duration-200" required />#}
{#                    </div>#}
{##}
{#                    <!-- Description Field -->#}
{#                    <div class="flex flex-col gap-2">#}
{#                        <label for="goal-description" class="text-black text-lg font-normal capitalize">Description</label>#}
{#                        <input type="text" id="goal-description" name="goal_description" placeholder="Description about your goal"#}
{#                               class="w-full p-3 border border-[#1b283f] rounded-lg text-[#1b283f] font-normal focus:border-[#05a99d] focus:outline-none transition duration-200" required />#}
{#                    </div>#}
{##}
{#                    <!-- Date Fields -->#}
{#                    <div class="flex flex-col gap-2">#}
{#                        <label for="start-date" class="text-black text-lg font-normal capitalize">Start Date</label>#}
{#                        <input type="date" id="start-date" name="start_date"#}
{#                               class="w-full p-3 border border-[#1b283f] rounded-lg text-[#1b283f] font-normal focus:border-[#05a99d] focus:outline-none transition duration-200" required />#}
{#                    </div>#}
{#                    <div class="flex flex-col gap-2">#}
{#                        <label for="end-date" class="text-black text-lg font-normal capitalize">Deadline</label>#}
{#                        <input type="date" id="end-date" name="end_date"#}
{#                               class="w-full p-3 border border-[#1b283f] rounded-lg text-[#1b283f] font-normal focus:border-[#05a99d] focus:outline-none transition duration-200" required />#}
{#                    </div>#}
{#                    <div class="w-full flex flex-col gap-3">#}
{#                        <label for="amount" class="text-black text-lg font-normal font-['Poppins'] capitalize">Amount</label>#}
{#                        <div class="w-full p-2.5 rounded-[10px] border border-[#1b283f] flex justify-between items-center amount-container">#}
{#                            <input type="number" id="amount" name="amount" placeholder="Enter amount"#}
{#                                   class="w-full focus:outline-none text-[#1b283f] text-lg font-normal font-['Poppins'] amount-input"#}
{#                                   oninput="formatBaht()" onkeydown="return restrictInput(event)"#}
{#                                   min="0" step="any" required />#}
{#                            <span id="currency-label" class="ml-2 text-[#1b283f] text-lg font-normal font-['Poppins']">baht</span>#}
{#                        </div>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{##}
{#            <!-- Right Column (Summary) -->#}
{#            <div class="w-full lg:w-1/3 flex flex-col gap-4">#}
{#                <div class="w-full p-5 rounded-[10px] border border-[#aec2c0] flex flex-col gap-5">#}
{#                    <h2 class="text-[#1b283f] text-[28px] font-semibold">Summary</h2>#}
{#                    <div class="w-[72px] h-[2px] bg-[#90acaa]"></div>#}
{#                    <div class="flex flex-col gap-4">#}
{#                        <div id="summary-title" class="text-[#1b283f] text-lg font-bold capitalize"></div>#}
{#                        <div id="summary-description" class="text-[#1b283f] text-lg font-normal capitalize"></div>#}
{#                        <div id="summary-dates" class="text-[#1b283f] text-lg font-normal capitalize"></div>#}
{#                        <div id="summary-amount" class="text-[#05a99d] text-lg font-bold capitalize"></div>#}
{#                    </div>#}
{#                </div>#}
{#                <button type="submit" class="w-full p-3 bg-[#05a99d] rounded-[10px] flex justify-center items-center transition duration-200 ease-in-out hover:bg-[#009b86] cursor-pointer">#}
{#                    <div class="text-white text-lg font-bold font-['Poppins'] uppercase">Add new goal</div>#}
{#                </button>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#</form>#}
{#<script>#}
{#    document.addEventListener('DOMContentLoaded', function() {#}
{#        const titleInput = document.getElementById('goal-title');#}
{#        const descriptionInput = document.getElementById('goal-description');#}
{#        const startDateInput = document.getElementById('start-date');#}
{#        const endDateInput = document.getElementById('end-date');#}
{#        const amountInput = document.getElementById('amount');#}
{##}
{#        const summaryTitle = document.getElementById('summary-title');#}
{#        const summaryDescription = document.getElementById('summary-description');#}
{#        const summaryDates = document.getElementById('summary-dates');#}
{#        const summaryAmount = document.getElementById('summary-amount');#}
{##}
{#        const bangkokOffset = 7 * 60;#}
{#        const bangkokDate = new Date(new Date().getTime() + (bangkokOffset - new Date().getTimezoneOffset()) * 60000);#}
{#        startDateInput.value = bangkokDate.toISOString().split('T')[0];#}
{##}
{#        function formatDateToDDMMYY(dateString) {#}
{#            if (!dateString) return "";#}
{#            const [year, month, day] = dateString.split("-");#}
{#            return `${day}/${month}/${year.slice(-2)}`;#}
{#        }#}
{##}
{#        function updateSummary() {#}
{#            summaryTitle.textContent = titleInput.value;#}
{#            summaryDescription.textContent = descriptionInput.value;#}
{##}
{#            const formattedStartDate = formatDateToDDMMYY(startDateInput.value);#}
{#            const formattedEndDate = formatDateToDDMMYY(endDateInput.value);#}
{#            summaryDates.innerHTML = formattedStartDate && formattedEndDate#}
{#                ? `From <strong>${formattedStartDate}</strong> to <strong>${formattedEndDate}</strong>`#}
{#                : formattedStartDate || formattedEndDate;#}
{##}
{#            summaryAmount.textContent = amountInput.value ? `${amountInput.value} Baht` : "";#}
{#        }#}
{##}
{#        [titleInput, descriptionInput, startDateInput, endDateInput, amountInput].forEach(input => {#}
{#            input.addEventListener('input', updateSummary);#}
{#        });#}
{#    });#}
{#</script>#}
{##}
{#<style>#}
{#    /* Responsive adjustments */#}
{#    @media (max-width: 1024px) {#}
{#        .lg\:w-2\/3 {#}
{#            width: 100%;#}
{#        }#}
{#        .lg\:flex-row {#}
{#            flex-direction: column;#}
{#        }#}
{#    }#}
{##}
{#    @media (max-width: 768px) {#}
{#        .text-4xl {#}
{#            font-size: 2rem;#}
{#        }#}
{#        .text-lg {#}
{#            font-size: 1rem;#}
{#        }#}
{#    }#}
{##}
{#    .amount-container:focus-within {#}
{#        border-color: #05a99d;#}
{#    }#}
{##}
{#    .amount-input:focus {#}
{#        outline: none;#}
{#    }#}
{#</style>#}
{##}
{#{% endblock %}#}

<!-- temporary add_goal.html -->
{% extends "moneymap/base.html" %}

{% block content %}
  <h2>Add a New Goal</h2>
  <form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Add Goal</button>
  </form>
{% endblock %}
